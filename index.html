<header>
    <div style="display:flex; gap:10px; align-items:center;">
        <button class="btn" onclick="document.getElementById('sidebar').classList.toggle('open')">‚ò∞</button>
        <select id="ratio" onchange="calculate()" class="btn">
            <option value="0.2">üí¨ Short Reply (0.2x)</option>
            <option value="1" selected>üîÑ Balanced (1x)</option>
            <option value="3">‚úçÔ∏è Long/Creative (3x)</option>
        </select>
        <div style="display:flex; align-items:center; gap:5px; margin-left:10px;">
            <small style="font-size:10px; color:var(--text-muted)">BUDGET:</small>
            <input type="number" id="budgetLimit" class="budget-input" value="10" oninput="calculate()">
        </div>
    </div>
    <div id="total-cost-head" style="font-size:24px; font-weight:800; color:var(--brand);">$0.00</div>
</header>

<div class="controls-row">
    <input type="text" id="modelSearch" class="search-input" placeholder="üîç Search models..." oninput="calculate()">
    <select id="sortOrder" class="btn" onchange="calculate()">
        <option value="desc">Price: High to Low</option>
        <option value="asc">Price: Low to High</option>
    </select>
    <select id="curr" onchange="calculate()" class="btn">
        <option value="USD" selected>$ USD</option>
        <option value="INR">‚Çπ INR</option>
    </select>
</div>

<script>
    // ... (Init and other logic) ...

    const examplePrompts = [
        "I would like you to please write a very long report about why cats are actually secretly in charge of the world.",
        "Can you actually explain in order to help me understand why the sky is blue and very bright today?",
        "Please provide an exactly detailed summary of how coffee is grown and I want you to make it very interesting.",
        "I want you to tell me a story about a robot who is very lonely and please make it exactly 100 words."
    ];
    let exampleIdx = 0;

    function jokeExample() {
        // Cycles through different text every time you click
        document.getElementById('input').value = examplePrompts[exampleIdx];
        exampleIdx = (exampleIdx + 1) % examplePrompts.length;
        optimizePrompt(); // Automatically shows the New Text comparison
    }

    function calculate() {
        const text = document.getElementById('input').value;
        const curr = document.getElementById('curr').value; // Defaults to USD
        const sym = curr === 'INR' ? '‚Çπ' : '$';
        
        // ... (Token logic remains same) ...

        data.forEach(m => {
            if (m.name.toLowerCase().includes(searchTerm)) {
                const totalConv = m.total * exchangeRates[curr];
                if (totalConv > peakCost) peakCost = totalConv;
                
                // Formatting helper for currency
                const f = (val) => sym + (val * exchangeRates[curr]).toFixed(val * exchangeRates[curr] < 0.01 ? 4 : 2);
                
                // ... (Row building logic) ...
            }
        });

        const peakStr = sym + peakCost.toFixed(2);
        document.getElementById('total-cost-head').innerText = peakStr;
        document.getElementById('peak-val').innerText = peakStr;
        
        // ... (Rest of function) ...
    }
</script>
