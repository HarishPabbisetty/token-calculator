---
layout: default
title: GPT Token Calculator
---

<div class="calculator-wrapper" style="margin-top: 2rem;">
    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1.5rem;">
        <div style="background: #f0f7ff; padding: 1.5rem; border-radius: 12px; border: 1px solid #dbeafe; text-align: center;">
            <p style="margin: 0; font-size: 0.8rem; color: #1e40af; font-weight: bold; uppercase;">Tokens</p>
            <p id="t-count" style="margin: 0; font-size: 2.5rem; font-weight: 900; color: #1e3a8a;">0</p>
        </div>
        <div style="background: #f9fafb; padding: 1.5rem; border-radius: 12px; border: 1px solid #e5e7eb; text-align: center;">
            <p style="margin: 0; font-size: 0.8rem; color: #6b7280; font-weight: bold; uppercase;">Characters</p>
            <p id="c-count" style="margin: 0; font-size: 2.5rem; font-weight: 900; color: #374151;">0</p>
        </div>
    </div>

    <textarea id="token-input" rows="8" 
        style="width: 100%; padding: 1rem; border: 2px solid #e5e7eb; border-radius: 12px; font-size: 1rem; outline: none; transition: border-color 0.2s;"
        placeholder="Paste your text here..."></textarea>

    <div style="margin-top: 2rem; border-top: 1px solid #eee; pt: 1.5rem;">
        <h3 style="font-size: 0.9rem; color: #9ca3af; text-transform: uppercase; margin-bottom: 1rem;">Visual Breakdown</h3>
        <div id="visualizer" style="font-family: monospace; background: #fafafa; padding: 1rem; border-radius: 8px; min-height: 100px; line-height: 1.8; word-break: break-all; white-space: pre-wrap;"></div>
    </div>
</div>

<script src="https://unpkg.com/gpt-tokenizer/dist/cl100k_base.js"></script>

<script>
    const input = document.getElementById('token-input');
    const tCount = document.getElementById('t-count');
    const cCount = document.getElementById('c-count');
    const visualizer = document.getElementById('visualizer');
    const colors = ['#bfdbfe', '#fef3c7', '#dcfce7', '#fee2e2', '#f3e8ff'];

    input.addEventListener('input', () => {
        const text = input.value;
        if (!text) {
            tCount.innerText = '0';
            cCount.innerText = '0';
            visualizer.innerHTML = '';
            return;
        }

        // GPTTokenizer_cl100k_base is the global provided by the script
        const tokens = GPTTokenizer_cl100k_base.encode(text);
        tCount.innerText = tokens.length;
        cCount.innerText = text.length;

        visualizer.innerHTML = '';
        tokens.forEach((id, i) => {
            const span = document.createElement('span');
            const chunk = GPTTokenizer_cl100k_base.decode([id]);
            
            span.innerText = chunk;
            span.style.backgroundColor = colors[i % colors.length];
            span.style.padding = '2px 4px';
            span.style.margin = '1px';
            span.style.borderRadius = '3px';
            span.style.display = 'inline-block';
            
            visualizer.appendChild(span);
        });
    });

    // Handle focus effect manually since we aren't using Tailwind here
    input.onfocus = () => input.style.borderColor = '#3b82f6';
    input.onblur = () => input.style.borderColor = '#e5e7eb';
</script>
